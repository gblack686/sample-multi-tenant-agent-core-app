{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 400,
      "y": 20,
      "width": 380,
      "height": 45,
      "text": "AI Provider Abstraction Layer",
      "fontSize": 32,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 32,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1001
    },
    {
      "id": "version-info",
      "type": "text",
      "x": 400,
      "y": 70,
      "width": 200,
      "height": 20,
      "text": "v1.0.0 | Created: 2026-01-19",
      "fontSize": 14,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 14,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1002
    },
    {
      "id": "app-layer-box",
      "type": "rectangle",
      "x": 50,
      "y": 90,
      "width": 1100,
      "height": 80,
      "strokeColor": "#1971c2",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2001,
      "roundness": { "type": 3 }
    },
    {
      "id": "app-layer-label",
      "type": "text",
      "x": 70,
      "y": 100,
      "width": 140,
      "height": 25,
      "text": "Application Layer",
      "fontSize": 18,
      "fontFamily": 2,
      "textAlign": "left",
      "baseline": 18,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2002
    },
    {
      "id": "chat-ui-box",
      "type": "rectangle",
      "x": 250,
      "y": 110,
      "width": 150,
      "height": 45,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2003,
      "roundness": { "type": 3 }
    },
    {
      "id": "chat-ui-text",
      "type": "text",
      "x": 290,
      "y": 122,
      "width": 70,
      "height": 22,
      "text": "Chat UI",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2004
    },
    {
      "id": "api-routes-box",
      "type": "rectangle",
      "x": 500,
      "y": 110,
      "width": 150,
      "height": 45,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2005,
      "roundness": { "type": 3 }
    },
    {
      "id": "api-routes-text",
      "type": "text",
      "x": 530,
      "y": 122,
      "width": 90,
      "height": 22,
      "text": "API Routes",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2006
    },
    {
      "id": "inference-layer-box",
      "type": "rectangle",
      "x": 50,
      "y": 200,
      "width": 1100,
      "height": 150,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3001,
      "roundness": { "type": 3 }
    },
    {
      "id": "inference-layer-label",
      "type": "text",
      "x": 70,
      "y": 210,
      "width": 120,
      "height": 25,
      "text": "Inference Layer",
      "fontSize": 18,
      "fontFamily": 2,
      "textAlign": "left",
      "baseline": 18,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3002
    },
    {
      "id": "inference-box",
      "type": "rectangle",
      "x": 200,
      "y": 240,
      "width": 180,
      "height": 90,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#d3f9d8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3003,
      "roundness": { "type": 3 }
    },
    {
      "id": "inference-text",
      "type": "text",
      "x": 245,
      "y": 255,
      "width": 90,
      "height": 22,
      "text": "inference.js",
      "fontSize": 16,
      "fontFamily": 3,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3004
    },
    {
      "id": "inference-desc",
      "type": "text",
      "x": 220,
      "y": 285,
      "width": 140,
      "height": 35,
      "text": "Model Resolution\nProvider Registry",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3005
    },
    {
      "id": "cache-box",
      "type": "rectangle",
      "x": 450,
      "y": 240,
      "width": 180,
      "height": 90,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#d3f9d8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3006,
      "roundness": { "type": 3 }
    },
    {
      "id": "cache-text",
      "type": "text",
      "x": 480,
      "y": 255,
      "width": 120,
      "height": 22,
      "text": "Token Caching",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3007
    },
    {
      "id": "cache-desc",
      "type": "text",
      "x": 465,
      "y": 285,
      "width": 150,
      "height": 35,
      "text": "√2 Cache Boundaries\n1024, 1448, 2048...",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3008
    },
    {
      "id": "norm-box",
      "type": "rectangle",
      "x": 700,
      "y": 240,
      "width": 180,
      "height": 90,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#d3f9d8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3009,
      "roundness": { "type": 3 }
    },
    {
      "id": "norm-text",
      "type": "text",
      "x": 720,
      "y": 255,
      "width": 140,
      "height": 22,
      "text": "Message Norm",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3010
    },
    {
      "id": "norm-desc",
      "type": "text",
      "x": 715,
      "y": 285,
      "width": 150,
      "height": 35,
      "text": "Base64 → Uint8Array\nTool Interleaving",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3011
    },
    {
      "id": "interface-box",
      "type": "rectangle",
      "x": 950,
      "y": 240,
      "width": 180,
      "height": 90,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#d3f9d8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 3012,
      "roundness": { "type": 3 }
    },
    {
      "id": "interface-text",
      "type": "text",
      "x": 965,
      "y": 255,
      "width": 150,
      "height": 22,
      "text": "Provider Interface",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3013
    },
    {
      "id": "interface-desc",
      "type": "text",
      "x": 975,
      "y": 285,
      "width": 130,
      "height": 35,
      "text": "converse()\nconverseStream()",
      "fontSize": 12,
      "fontFamily": 3,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 3014
    },
    {
      "id": "provider-layer-box",
      "type": "rectangle",
      "x": 50,
      "y": 380,
      "width": 1100,
      "height": 150,
      "strokeColor": "#f08c00",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 4001,
      "roundness": { "type": 3 }
    },
    {
      "id": "provider-layer-label",
      "type": "text",
      "x": 70,
      "y": 390,
      "width": 200,
      "height": 25,
      "text": "Provider Implementations",
      "fontSize": 18,
      "fontFamily": 2,
      "textAlign": "left",
      "baseline": 18,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 4002
    },
    {
      "id": "bedrock-box",
      "type": "rectangle",
      "x": 150,
      "y": 420,
      "width": 200,
      "height": 90,
      "strokeColor": "#f08c00",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 4003,
      "roundness": { "type": 3 }
    },
    {
      "id": "bedrock-text",
      "type": "text",
      "x": 210,
      "y": 435,
      "width": 80,
      "height": 22,
      "text": "bedrock.js",
      "fontSize": 16,
      "fontFamily": 3,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4004
    },
    {
      "id": "bedrock-desc",
      "type": "text",
      "x": 165,
      "y": 465,
      "width": 170,
      "height": 35,
      "text": "Claude Opus/Sonnet/Haiku\nStreaming + Cache Points",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4005
    },
    {
      "id": "gemini-box",
      "type": "rectangle",
      "x": 450,
      "y": 420,
      "width": 200,
      "height": 90,
      "strokeColor": "#f08c00",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 4006,
      "roundness": { "type": 3 }
    },
    {
      "id": "gemini-text",
      "type": "text",
      "x": 515,
      "y": 435,
      "width": 70,
      "height": 22,
      "text": "gemini.js",
      "fontSize": 16,
      "fontFamily": 3,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4007
    },
    {
      "id": "gemini-desc",
      "type": "text",
      "x": 470,
      "y": 465,
      "width": 160,
      "height": 35,
      "text": "Gemini 2.5 Pro/Flash\nGoogle AI Integration",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4008
    },
    {
      "id": "mock-box",
      "type": "rectangle",
      "x": 750,
      "y": 420,
      "width": 200,
      "height": 90,
      "strokeColor": "#f08c00",
      "backgroundColor": "#ffec99",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 4009,
      "roundness": { "type": 3 }
    },
    {
      "id": "mock-text",
      "type": "text",
      "x": 820,
      "y": 435,
      "width": 60,
      "height": 22,
      "text": "mock.js",
      "fontSize": 16,
      "fontFamily": 3,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4010
    },
    {
      "id": "mock-desc",
      "type": "text",
      "x": 770,
      "y": 465,
      "width": 160,
      "height": 35,
      "text": "Testing Provider\nPredefined Responses",
      "fontSize": 12,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 12,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 4011
    },
    {
      "id": "external-layer-box",
      "type": "rectangle",
      "x": 50,
      "y": 560,
      "width": 1100,
      "height": 80,
      "strokeColor": "#e64980",
      "backgroundColor": "#ffdeeb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 5001,
      "roundness": { "type": 3 }
    },
    {
      "id": "external-layer-label",
      "type": "text",
      "x": 70,
      "y": 570,
      "width": 120,
      "height": 25,
      "text": "External APIs",
      "fontSize": 18,
      "fontFamily": 2,
      "textAlign": "left",
      "baseline": 18,
      "strokeColor": "#e64980",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 5002
    },
    {
      "id": "aws-api-box",
      "type": "rectangle",
      "x": 250,
      "y": 580,
      "width": 200,
      "height": 45,
      "strokeColor": "#e64980",
      "backgroundColor": "#fcc2d7",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 5003,
      "roundness": { "type": 3 }
    },
    {
      "id": "aws-api-text",
      "type": "text",
      "x": 290,
      "y": 592,
      "width": 120,
      "height": 22,
      "text": "AWS Bedrock API",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#e64980",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 5004
    },
    {
      "id": "google-api-box",
      "type": "rectangle",
      "x": 550,
      "y": 580,
      "width": 200,
      "height": 45,
      "strokeColor": "#e64980",
      "backgroundColor": "#fcc2d7",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 5005,
      "roundness": { "type": 3 }
    },
    {
      "id": "google-api-text",
      "type": "text",
      "x": 590,
      "y": 592,
      "width": 120,
      "height": 22,
      "text": "Google AI API",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "baseline": 16,
      "strokeColor": "#e64980",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 5006
    },
    {
      "id": "arrow-app-inference",
      "type": "arrow",
      "x": 575,
      "y": 175,
      "width": 0,
      "height": 20,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 6001,
      "points": [[0, 0], [0, 20]],
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "arrow-inference-provider",
      "type": "arrow",
      "x": 575,
      "y": 355,
      "width": 0,
      "height": 20,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 6002,
      "points": [[0, 0], [0, 20]],
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "arrow-provider-external",
      "type": "arrow",
      "x": 575,
      "y": 535,
      "width": 0,
      "height": 20,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 6003,
      "points": [[0, 0], [0, 20]],
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "arrow-bedrock-aws",
      "type": "arrow",
      "x": 250,
      "y": 515,
      "width": 100,
      "height": 60,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 6004,
      "points": [[0, 0], [100, 60]],
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeStyle": "dashed"
    },
    {
      "id": "arrow-gemini-google",
      "type": "arrow",
      "x": 550,
      "y": 515,
      "width": 100,
      "height": 60,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 6005,
      "points": [[0, 0], [100, 60]],
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeStyle": "dashed"
    },
    {
      "id": "stream-label",
      "type": "text",
      "x": 590,
      "y": 175,
      "width": 120,
      "height": 20,
      "text": "POST /api/model",
      "fontSize": 12,
      "fontFamily": 3,
      "textAlign": "left",
      "baseline": 14,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 7001
    },
    {
      "id": "sse-label",
      "type": "text",
      "x": 590,
      "y": 355,
      "width": 140,
      "height": 20,
      "text": "SSE / NDJSON Stream",
      "fontSize": 12,
      "fontFamily": 3,
      "textAlign": "left",
      "baseline": 14,
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 7002
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}